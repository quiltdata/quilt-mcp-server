_generated_by: scripts/mcp-test-setup.py - Auto-generated test configuration with
  discovery and tool loops
_note: Edit test cases below to customize arguments and validation. Tool loops test
  write operations.
environment:
  AWS_PROFILE: default
  AWS_DEFAULT_REGION: us-east-1
  QUILT_CATALOG_URL: https://nightly.quilttest.com
  QUILT_TEST_BUCKET: quilt-ernest-staging
  QUILT_TEST_PACKAGE: test/mcp_create
  QUILT_TEST_ENTRY: README.md
test_tools:
  bucket_objects_list:
    description: List objects in an S3 bucket with optional prefix filtering - S3
      bucket exploration and object retrieval tasks
    effect: none
    category: optional-arg
    arguments:
      bucket: quilt-ernest-staging
      prefix: test/mcp_create/
      max_keys: 5
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 3700
      response_example:
        success: true
        bucket: quilt-ernest-staging
        prefix: test/mcp_create/
        objects:
        - key: test/mcp_create/.timestamp
          s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
          size: 29
          last_modified: '2026-02-09 22:30:08+00:00'
          etag: '"25a7167d188c888c46e718e0eddd0928"'
          storage_class: STANDARD
          signed_url: https://quilt-ernest-staging.s3.amazonaws.com/test/mcp_create/.timestamp?AWSAccessKeyId=ASIA2LR7MUT64LTVGIOI&Signature=F2HpzMqecbZ%2FduQ9XF1tMOclLjQ%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEH4aCXVzLWVhc3QtMSJIMEYCIQCRjEN7vMH83NkIztkP%2Br6VnWqaQfDHxRTAeRLWVMCLZAIhAJOfM5ZbMd7fRy0B6cB%2BXRB%2B1atJuIlBwhQuzxDBTiZCKpICCEcQAxoMNzEyMDIzNzc4NTU3IgxYaiGbocqjyxZ1yxkq7wGzC1kxHYIuFfdiA51GSA6RHzodCCYIjvVlotOmWqqqlbTL1xBFDFW1lfKEhj2vmY92h84QKiwQomoJ5wbBRMEJKG13kWG%2F39udwfynpFxgAz%2Be8gz9OBfRzi2IxrWqUYhb1qsOcSymvvETbMboj63mzmLZtthyaCGB9p45NoHCSpdcoXaMRcoiWxCbt9gT%2BBtF9zCSj3CJGd4ZneqC2lO%2BKd5V0Y2uvtwCJJ%2BJ1nqPA0ZTinmsGlzlOCanIdaIw5pa56A5QqdgiouXbE9cJ5awZK22t5VKXhXovtvIKaWf9UApkVV5MOK8xIUV%2FOdP1zCZgdDMBjqcAWaAjP%2BCOHjYQqqaTCvUtSNS9f5lMIlUzhazU9jqpeVCTjM7bGRUc9PeWbuXrTEAiUc1TKYk8oSuSaHxbdK1rYAQfKdGLSFzI5zgCWM0vLc0GvkL9N5LJHVJSxYONEK5rVZzVyrYgZaOa9xkvWbOJ6SJF0xWd2%2B%2FRXb3rKNAYxkVEvcsZhmNVdOa48aJiLW2Y6wnidOGUhsP%2Bi7DJw%3D%3D&Expires=1771310761
          signed_url_expiry: null
        - key: test/mcp_create/README.md
          s3_uri: s3://quilt-ernest-staging/test/mcp_create/README.md
          size: 983
          last_modified: '2026-02-11 15:01:00+00:00'
          etag: '"71bb1b1303d0c8553da8f8b98e4e3c3a"'
          storage_class: STANDARD
          signed_url: https://quilt-ernest-staging.s3.amazonaws.com/test/mcp_create/README.md?AWSAccessKeyId=ASIA2LR7MUT64XCTV4WM&Signature=rQ%2FRQ2vhoghq4aooF2IXDwc0Xg4%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEH4aCXVzLWVhc3QtMSJIMEYCIQC%2BRry1uJgGj4J0HXPpJArpab08zo9XYUeFg1EDHdKjRAIhAIFaODfuD0hRhlb%2B1BI6Kw5My81JOqugZaPVt9QJll3oKpICCEcQAxoMNzEyMDIzNzc4NTU3Igwa6pXRoJzdId7%2F0oQq7wGFGjAmqiizq9gTdOMtZ%2FY6qqkuNVPfvdnxZWUUk2fkpTDmvm19kBWUzlwc%2FZ66n1MN26hJtVjNjOaS7rJCLsmTy1mIHjY%2BGhuv5%2FgXDLhv7LDhOIUN2kNAi6Y5v24NjwH0NixBaYFwVLpPe4RGgZDjM6MmCyZQ6Y%2FjuMw%2BoNrghOMCpucANwT4GdgG8tEvA6tal0zXHm5ZT7w3MBkNr25YoeYGSJ4YXGni%2FcQU43qbxUxpJKtUEAg2fQ20USZ8iWDWTEsci5KRBmBhD0yS5Rz6AqSCTN5OVoyk44f4Q%2FXUaHS8RbjG15%2BnN0HdyAcaTDCagdDMBjqcAduiWvX0XvtLcverInfAhUuprgmvZY8uqG9%2FtGvt21aicEfXmCGLPRmHHyg1shNoJSTilyYUbgXxoMIX41uG6QCZhavKn2Z9UhJnUwV0v5u%2FFeIBHVLw944LS32aSwqPIWot%2BlRWWSmkSlmfhjtTyIcXG%2B2%2Bp3YTda6i8F8mW9ymFH7hPfupTeJIIIrqqhVpSKfYfqTpRJw0P4eSSw%3D%3D&Expires=1771310762
          signed_url_expiry: null
        - key: test/mcp_create/aip_consciousness.pdf
          s3_uri: s3://quilt-ernest-staging/test/mcp_create/aip_consciousness.pdf
          size: 8739265
          last_modified: '2026-02-10 06:45:26+00:00'
          etag: '"9e254c343c1db0d0f88bd4eb32b3fdc3-2"'
          storage_class: STANDARD
          signed_url: https://quilt-ernest-staging.s3.amazonaws.com/test/mcp_create/aip_consciousness.pdf?AWSAccessKeyId=ASIA2LR7MUT6ZUHIJMTD&Signature=V9zb7wrNBN01ZZGLBE2%2FDQFJL6I%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEH4aCXVzLWVhc3QtMSJGMEQCICfR6i6%2BCxOCdbmzPaFuDoKxGYjQ5nRyzq7k7vf%2BlNdqAiBGmLwocZM7nWRRWE9jc6RnUPPF3t71SlTBDWA7p9g2diqSAghHEAMaDDcxMjAyMzc3ODU1NyIMw%2BOWLagcCKkdSeTuKu8BHCFFhmcDzCnxUsB82IY1V0E3u1e2tIz7%2FBUFws4RmwFk7jGyLxzFvaHWo%2BgL7RBDg%2F6g1f6K7ItvmN19ZwdGAvRn7o2ZGIxzScJ401JuNRk9vDOE4Aa%2Fs5PrDLV6G%2B2itnd9p3aBkylzAowYeVcLAxre1ihgwd1r5fqVJLglkIfAnEWZwT9cz%2F7pD2MiVeb9Z7lY%2FW2UujjMcbxDBXz61q%2FeYO%2FDVG8Itgacf3LffoI2mCDXHzFYBXKO%2FddunJ4pSDbDV36F%2BIEGIMu%2B%2FwOwhFW5MsYnnys4J6bvhS1aHWeFc3USHIXNN8l9AtidDzcwmoHQzAY6ngHQmg5Cvh66k1%2FGm0TL4dZz%2FZvOf9BBzOEvho2qH9%2FTrenDBz7vOwyIw9Nhb7JjSaZCOif0%2FE%2BilCY%2Bp4PUXW7Lh9e7Jo0Gnct%2FV5XYUIiPRTOFrlspVc4RQn7%2B%2BdMEjX6yMS6djJW3VxKIX%2FQ9%2BeD1LOGHymm0kY9uCqLFF%2F4pQX2xXN7vnQbfL%2F3xQfdH3R2cMYvxDElUjGSU96Fm9w%3D%3D&Expires=1771310763
          signed_url_expiry: null
        - _truncated: 2 more items
        count: 5
        is_truncated: true
        next_continuation_token: 1bBM6Z2S4lBMvUARVp9WKkkGgWFD+qoFNP1lGJIxT908Y7mBshkruXjcTJmgGViiLKyzL+vEaOu00TyiJ8GxXeqKLk/35T3Gs
        auth_type: jwt
      discovered_data:
        s3_keys:
        - s3://quilt-ernest-staging/test/mcp_create/.timestamp
        - s3://quilt-ernest-staging/test/mcp_create/README.md
        - s3://quilt-ernest-staging/test/mcp_create/aip_consciousness.pdf
        - s3://quilt-ernest-staging/test/mcp_create/docker-versions-1.64.2.csv
        - s3://quilt-ernest-staging/test/mcp_create/lifecycle.json
  admin_sso_config_remove:
    description: Remove the SSO configuration - Quilt governance and administrative
      operations
    effect: remove
    category: write-effect
    arguments: {}
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_sso_config_set:
    description: Set the SSO configuration - Quilt governance and administrative operations
    effect: create
    category: write-effect
    arguments:
      config:
        version: '1.0'
        provider: test-provider
        saml_config: <test>config</test>
        mappings: []
        default_role: ReadQuiltBucket
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_tabulator_open_query_set:
    description: Set the tabulator open query status - Quilt governance and administrative
      operations
    effect: create
    category: write-effect
    arguments:
      enabled: false
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_add_roles:
    description: Add roles to a user - Quilt governance and administrative operations
    effect: update
    category: write-effect
    arguments:
      name: test_name
      roles:
      - ReadQuiltBucket
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_create:
    description: Create a new user in the registry - Quilt governance and administrative
      operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
      email: test5130e167@example.com
      role: ReadQuiltBucket
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_delete:
    description: Delete a user from the registry - Quilt governance and administrative
      operations
    effect: remove
    category: write-effect
    arguments:
      name: test_name
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_get:
    description: Get detailed information about a specific user - Quilt governance
      and administrative operations
    effect: none
    category: optional-arg
    arguments:
      name: admin
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 400
      response_example:
        success: true
        user:
          name: admin
          email: contact@quiltdata.io
          is_active: true
          is_admin: true
          is_sso_only: false
          is_service: false
          date_joined: '2019-04-09T03:04:24.459877+00:00'
          last_login: '2020-08-25T20:22:06.180150+00:00'
          role:
            name: ReadWriteQuiltBucket
            id: 9e18131e-0337-4a33-a531-583ca4aed31c
            arn: arn:aws:iam::712023778557:role/ReadWriteQuiltV2-quilt-staging
            type: UnmanagedRole
          extra_roles: []
        message: Retrieved user information for 'admin'
  admin_user_remove_roles:
    description: Remove roles from a user - Quilt governance and administrative operations
    effect: remove
    category: write-effect
    arguments:
      name: test_name
      roles:
      - ReadQuiltBucket
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_reset_password:
    description: Reset a user's password - Quilt governance and administrative operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_set_active:
    description: Set the active status for a user - Quilt governance and administrative
      operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
      active: false
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_set_admin:
    description: Set the admin status for a user - Quilt governance and administrative
      operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
      admin: false
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_set_email:
    description: Update a user's email address - Quilt governance and administrative
      operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
      email: testb9992231@example.com
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  admin_user_set_role:
    description: Set the primary and extra roles for a user - Quilt governance and
      administrative operations
    effect: create
    category: write-effect
    arguments:
      name: test_name
      role: ReadQuiltBucket
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  athena_query_execute:
    description: Execute SQL query against Athena using SQLAlchemy/PyAthena - Athena
      querying and Glue catalog inspection workflows
    effect: configure
    category: optional-arg
    arguments:
      query: SELECT 1 as test_value
      max_results: 10
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 8400
      response_example:
        success: true
        row_count: 1
        total_rows: 1
        truncated: false
        columns:
        - test_value
        dtypes:
          test_value: int64
        query: SELECT 1 as test_value
        formatted_data:
        - test_value: 1
        format: json
  athena_query_validate:
    description: Validate SQL query syntax without executing it - Athena querying
      and Glue catalog inspection workflows
    effect: none
    category: required-arg
    arguments:
      query: SHOW TABLES
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        success: true
        valid: true
        message: Query syntax appears valid
        query_type: SHOW
        suggestions:
        - Query validation passed basic syntax checks
        - Consider adding LIMIT clause to prevent large result sets
        - Use specific column names instead of * for better performance
  athena_table_schema:
    description: Get detailed schema information for a specific table - Athena querying
      and Glue catalog inspection workflows
    effect: none
    category: optional-arg
    arguments:
      database: userathenadatabase-mbq1ihawbzb7
      table: ai2-semanticscholar-cord-19_manifests
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 2500
      response_example:
        success: true
        table_name: ai2-semanticscholar-cord-19_manifests
        database_name: userathenadatabase-mbq1ihawbzb7
        data_catalog_name: AwsDataCatalog
        columns:
        - name: logical_key
          type: string
          comment: from deserializer
          parameters: {}
        - name: physical_keys
          type: array<string>
          comment: from deserializer
          parameters: {}
        - name: size
          type: bigint
          comment: from deserializer
          parameters: {}
        - _truncated: 5 more items
        partitions: []
        table_type: ''
        description: ''
        owner: ''
        create_time: null
        update_time: null
        storage_descriptor:
          location: ''
          input_format: ''
          output_format: ''
          compressed: false
          serde_info: {}
        parameters: {}
  athena_tables_list:
    description: List tables in a specific database - Athena querying and Glue catalog
      inspection workflows
    effect: none
    category: optional-arg
    arguments:
      database: userathenadatabase-mbq1ihawbzb7
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 2700
      response_example:
        success: true
        tables:
        - name: ai2-semanticscholar-cord-19_manifests
          database_name: userathenadatabase-mbq1ihawbzb7
          description: ''
          owner: ''
          create_time: null
          update_time: null
          table_type: ''
          storage_descriptor:
            location: ''
            input_format: ''
            output_format: ''
            serde_info: {}
          partition_keys: []
          parameters: {}
        - name: ai2-semanticscholar-cord-19_objects-view
          database_name: userathenadatabase-mbq1ihawbzb7
          description: ''
          owner: ''
          create_time: null
          update_time: null
          table_type: ''
          storage_descriptor:
            location: ''
            input_format: ''
            output_format: ''
            serde_info: {}
          partition_keys: []
          parameters: {}
        - name: ai2-semanticscholar-cord-19_packages
          database_name: userathenadatabase-mbq1ihawbzb7
          description: ''
          owner: ''
          create_time: null
          update_time: null
          table_type: ''
          storage_descriptor:
            location: ''
            input_format: ''
            output_format: ''
            serde_info: {}
          partition_keys: []
          parameters: {}
        - _truncated: 298 more items
        database_name: userathenadatabase-mbq1ihawbzb7
        data_catalog_name: AwsDataCatalog
        count: 301
  bucket_list:
    description: List S3 buckets accessible to authenticated user - Bucket discovery
      and access verification
    effect: none
    category: zero-arg
    arguments: {}
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 400
      response_example:
        success: true
        buckets:
        - name: data-yaml-spec-tests
          title: Data Yaml Specs
          description: Results for conformance testing
          iconUrl: null
          relevanceScore: 0
          browsable: false
          tags: null
        - name: quilt-test-add
          title: Test adding new bucket
          description: Cytokinetics bug
          iconUrl: null
          relevanceScore: 0
          browsable: false
          tags: null
        - name: quilt-test-cross-account
          title: Production bucket in staging
          description: Testing cross-account permissions
          iconUrl: null
          relevanceScore: 0
          browsable: false
          tags: null
        - _truncated: 68 more items
        count: 71
  bucket_object_fetch:
    description: Fetch binary or text data from an S3 object - S3 bucket exploration
      and object retrieval tasks
    effect: none
    category: optional-arg
    arguments:
      s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
      max_bytes: 200
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 1100
      response_example:
        success: true
        bucket: quilt-ernest-staging
        key: test/mcp_create/.timestamp
        s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
        data: TW9uIEZlYiAgOSAxNDoyOTo1OCBQU1QgMjAyNgo=
        content_type: text/plain
        bytes_read: 29
        truncated: false
        is_base64: true
        auth_type: jwt
  bucket_object_info:
    description: Get metadata information for a specific S3 object - S3 bucket exploration
      and object retrieval tasks
    effect: none
    category: required-arg
    arguments:
      s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 1100
      response_example:
        success: true
        object:
          bucket: quilt-ernest-staging
          key: test/mcp_create/.timestamp
          s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
          size: 29
          content_type: text/plain
          last_modified: '2026-02-09 22:30:08+00:00'
          etag: '"25a7167d188c888c46e718e0eddd0928"'
          version_id: null
          metadata: {}
          storage_class: null
        auth_type: jwt
  bucket_object_link:
    description: Generate a presigned URL for downloading an S3 object - S3 bucket
      exploration and object retrieval tasks
    effect: none
    category: optional-arg
    arguments:
      s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 700
      response_example:
        success: true
        bucket: quilt-ernest-staging
        key: test/mcp_create/.timestamp
        s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
        signed_url: https://quilt-ernest-staging.s3.amazonaws.com/test/mcp_create/.timestamp?AWSAccessKeyId=ASIA2LR7MUT64I43QTKW&Signature=6LtDDJXPD6oFpLKDAPzLUknPAdQ%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEH4aCXVzLWVhc3QtMSJHMEUCIEYpTT8yffkH4jNy6EjAiorSLDOSTUUBAMHVNpkiy6PNAiEArWjTR2cFajO7fC0Qrtn8VO52xCrKsOCO21uhhrfQYJEqkgIIRxADGgw3MTIwMjM3Nzg1NTciDNjNZDbOAAmnIQ48JyrvAQOh2yOnbz0vGq0kSZciOSPtrZbHHWBWHE9P%2BSohSkU%2FO2xsTf%2BRjuWO4MP%2FlJYfxD7GUdA6wNMahX6PJtLOQ2sVw%2FqIqSJEdeYdKS1JIfvIdgr0%2FG13sXQrDPGf6byYylUZd3WIPlP8soMbml%2FnAhKuSk7TYttssNuQoveAYf%2BCIVkw936riSoGtnt2S%2BxadWEGGs%2BUJJb4zCMGoWnz%2FXNuUgV9QiRe87LL3omsgjgCdUkMPuBVCY%2BdSB9VT5RbPKLOmUzEjIOq49Y0%2BdGbhCRCEz503dAf6zvgw6YcWa7aBV2ZajJ0iDA84juh7bZ7MK2B0MwGOp0BN3x7%2B92G4WTdZc5Xjb5uOuXO6fzfavvyF2qoVn5Mxx8G8zS1E8QsJ6Q1sVisg6UlmKUjzY45sfHQOOIl88AY2T30jC3xa61XLyHyLPzcgTrOeLQK%2B2xdFiATrmCi9OwWcSOU%2FWF%2FM60I4sR98CmRA3DU5M4PbXhFddr%2FunkCwXgI%2BKlMF7MZar2E4Idp%2Bp0aijiPup91DeDEAl0L7A%3D%3D&Expires=1771310781
        expiration_seconds: 3600
        expires_at: '2026-02-17T06:46:21.210008+00:00'
        auth_type: jwt
  bucket_object_text:
    description: Read text content from an S3 object - S3 bucket exploration and object
      retrieval tasks
    effect: none
    category: optional-arg
    arguments:
      s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
      max_bytes: 200
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 800
      response_example:
        success: true
        bucket: quilt-ernest-staging
        key: test/mcp_create/.timestamp
        s3_uri: s3://quilt-ernest-staging/test/mcp_create/.timestamp
        text: 'Mon Feb  9 14:29:58 PST 2026

          '
        encoding: utf-8
        bytes_read: 29
        truncated: false
        auth_type: jwt
  bucket_objects_put:
    description: Upload multiple objects to an S3 bucket - S3 bucket exploration and
      object retrieval tasks
    effect: create
    category: write-effect
    arguments:
      bucket: quilt-ernest-staging
      items:
      - key: test.txt
        text: test content
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  catalog_configure:
    description: Configure Quilt catalog URL - Quilt authentication and catalog navigation
      workflows
    effect: configure
    category: required-arg
    arguments:
      catalog_url: https://nightly.quilttest.com
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        status: success
        catalog_url: https://nightly.quilttest.com
        configured_url: https://nightly.quilttest.com
        message: Catalog already configured via platform environment
        next_steps:
        - 'Verify with: auth_status()'
        - 'Start exploring with: packages_list()'
        help:
          verify_command: auth_status()
          documentation: https://docs.quiltdata.com/
  catalog_uri:
    description: Build Quilt+ URI - Quilt authentication and catalog navigation workflows
    effect: none
    category: optional-arg
    arguments:
      registry: quilt-ernest-staging
      package_name: test/mcp_create
      path: .timestamp
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 700
      response_example:
        success: true
        status: success
        quilt_plus_uri: quilt+s3://quilt-ernest-staging#package=test/mcp_create&path=.timestamp&catalog=nightly.quilttest.com
        bucket: quilt-ernest-staging
        package_name: test/mcp_create
        path: .timestamp
        top_hash: null
        tag: null
        catalog_host: nightly.quilttest.com
  catalog_url:
    description: Generate Quilt catalog URL - Quilt authentication and catalog navigation
      workflows
    effect: none
    category: optional-arg
    arguments:
      registry: quilt-ernest-staging
      package_name: test/mcp_create
      path: .timestamp
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 700
      response_example:
        success: true
        status: success
        catalog_url: https://nightly.quilttest.com/b/quilt-ernest-staging/packages/test/mcp_create/tree/latest/.timestamp
        view_type: package
        bucket: quilt-ernest-staging
        package_name: test/mcp_create
        path: .timestamp
        catalog_host: nightly.quilttest.com
  check_bucket_access:
    description: Check the caller's access to ``bucket``.
    effect: none
    category: optional-arg
    arguments:
      bucket: quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 1300
      response_example:
        success: true
        bucket_name: quilt-ernest-staging
        permission_level: full_access
        access_summary:
          can_read: true
          can_write: true
          can_list: true
        operation_tests:
          read: false
          write: false
          list: true
        bucket_region: unknown
        last_checked: '2026-02-17T05:46:24.491373+00:00'
        error_message: null
        guidance:
        - âœ… This bucket can be used for Quilt package creation.
        quilt_compatible: true
        recommended_for_packages: true
  create_data_visualization:
    description: Create interactive data visualization for Quilt packages - Generate
      ECharts configurations from tabular data.
    effect: create
    category: write-effect
    arguments:
      data:
        x:
        - 1
        - 2
        - 3
        y:
        - 4
        - 5
        - 6
      plot_type: scatter
      x_column: x
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  create_quilt_summary_files:
    description: Create all Quilt summary files for a package - Quilt summary file
      generation tasks
    effect: create
    category: write-effect
    arguments:
      package_name: test/mcp_create
      package_metadata:
        name: test/mcp_create
        description: Test package for MCP testing
      organized_structure:
        files:
        - name: test.txt
          size: 100
      readme_content: '# Test Package'
      source_info:
        type: test
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  discover_permissions:
    description: Discover AWS permissions for the current principal.
    effect: none
    category: zero-arg
    arguments:
      check_buckets:
      - quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 2000
      response_example:
        success: true
        user_identity:
          user_id: AROA2LR7MUT65NSCJAJXD:ernie
          arn: arn:aws:sts::712023778557:assumed-role/ReadWriteQuiltV2-quilt-staging/ernie
          account_id: '712023778557'
          user_type: unknown
          user_name: null
        bucket_permissions:
        - &id001
          name: quilt-ernest-staging
          region: unknown
          permission_level: full_access
          can_read: true
          can_write: true
          can_list: true
          last_checked: 2026-02-17 05:46:26.636882+00:00
          error_message: null
        categorized_buckets:
          full_access:
          - *id001
          read_write: []
          read_only: []
          list_only: []
          no_access: []
        recommendations:
          package_creation: []
          data_storage: []
          temporary_storage: []
        cache_stats:
          permission_cache_size: 1
          identity_cache_size: 1
          bucket_list_cache_size: 0
          cache_ttl: 3600
        discovery_timestamp: '2026-02-17T05:46:26.636958+00:00'
        total_buckets_checked: 1
  generate_package_visualizations:
    description: Generate comprehensive visualizations for the package - Quilt summary
      file generation tasks
    effect: configure
    category: optional-arg
    arguments:
      package_name: test/mcp_create
      organized_structure:
        files:
        - name: test.txt
          size: 100
      file_types:
        txt: 1
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 200
      response_example:
        success: true
        visualizations:
          folder_structure:
            type: horizontal_bar_chart
            title: File Distribution by Folder
            description: Number of files in each organized folder
            data:
              folders:
              - files/
              file_counts:
              - 1
            image_base64: iVBORw0KGgoAAAANSUhEUgAABwMAAAShCAYAAADfiDTKAAAAOnRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjEwLjgsIGh0dHBzOi8vbWF0cGxvdGxpYi5vcmcvwVt1zgAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAaQVJREFUeJzs3QeUZGW5gOs95JyjpCHnDJKdIadDRiQdGREJgpIVBZwhCAIih+ThKEo4AoLkLJkDKBkkyIAIQwaJknPf9e17e25Tvau7qrurwzfPs1avge7q6qpde++qVW/9/z+sra2trQAAAAAAAADSmWigbwAAAAAAAADQGmIgAAAAAAAAJCUGAgAAAAAAQFJiIAAAAAAAACQlBgIAAAAAAEBSYiAAAAAAAAAkJQYCAAAAAABAUmIgAAAAAAAAJCUGAgAAAAAAQFJiIAAAAAAAACQlBgIAAAAAAEBSYiAAAAAAAAAkJQYCAAAAAABAUmIgAAAAAAAAJCUGAsAQc/bZZxfDhg3r9DVmzJjKy1dddvjw4f1+uwezUaNGVW6n2267rZgQNLOP2FaOp96ek+gfI0eOrHxcxo0b1yfXH+eIqusHAABg8BEDAaBF6r1R2szXO++8M8E+Pl1tl0knnbSYaqqpillmmaVYeOGFi9VWW63YcccdiyOPPLK4+eabi88++2ygbz4wgcS1Zr4efvjhgb4bkN4ll1zylePu+uuvH+ibBAAAA04MBACGnM8//7z46KOPijfffLN4+umni7vvvru44IILitGjRxfrrbdeMeeccxaHHHJI+fOhoNUjePj/GcUGDAUTysjLVpyTr7jiivH/Pc000xRrr712H91aGHheMwIAPSUGAgDpRAQ87rjjisUXX7y46qqrBvrmAAD94Isvviiuvfba8f+/0UYbFZNPPrltDwDABG+SCX4LAMAQs8kmmxR33HFHp+/PO++8A3J7BrPXX3+92HLLLYtf//rXxR577FH3coceemix...
              (truncated, 36044 total chars)
            mime_type: image/png
          package_dashboard:
            type: dashboard
            title: Package Overview Dashboard
            description: Comprehensive overview of package contents and structure
            data:
              total_files: 1
              total_size_mb: 0.0
              folder_count: 1
              file_type_count: 1
            image_base64: iVBORw0KGgoAAAANSUhEUgAACVAAAAbqCAYAAAAt3ckBAAAAOnRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjEwLjgsIGh0dHBzOi8vbWF0cGxvdGxpYi5vcmcvwVt1zgAAAAlwSFlzAAAXEgAAFxIBZ5/SUgABAABJREFUeJzs3Qm8VHX9P/4PiIgsguIuAmIoRaIgmUuAmplLbrikZbm1a1qm5obmV03LNDU1NXdzITUXUnIpcA03VJQSEwUUNwxcQATF+T/e5/e4/C+X2e69c9d5Ph+PeQzMmTlz5sw5nzN3zmve7w65XC6XAAAAAAAAAAAAqlDHll4AAAAAAAAAAACAliJABQAAAAAAAAAAVC0BKgAAAAAAAAAAoGoJUAEAAAAAAAAAAFVLgAoAAAAAAAAAAKhaAlQAAAAAAAAAAEDVEqACAAAAAAAAAACqlgAVAAAAAAAAAABQtQSoAAAAAAAAAACAqiVABQAAAAAAAAAAVC0BKgAAAAAAAAAAoGoJUAEAAAAAAAAAAFVLgAoAAAAAAAAAAKhaAlQAAAAAAAAAAEDVEqACAIAirrnmmtShQ4e8l/79+1t3QObggw8uOFbENGirtt1224Lb9q9+9asmec4ZM2YUfM64xHTa//Zl7AQAAACaU6dmfTYAAIB26NNPP00vvPBCmj59epo9e3ZasGBB+uyzz1LXrl3TmmuumYXtNt1009S9e/eWXlQAAAAAAKAOASoAgHYqqjNssMEG9X7cyiuvnHr16pVWW221tMkmm6Thw4enb3zjG2njjTdukuWEturjjz9ON998c/rLX/6SJkyYkP2/mI4dO6Zhw4al0aNHp0MPPTSttdZazbasUA1VbB588MGi91lxxRWzS+fOndMqq6ySVl111exYFwHHDTfcMA0dOjRttdVW2e0AtH9jx45N+++//zK3Pf/88+mLX/xiiy0TAAAALUcLPwAAlrFw4cL05ptvpqlTp2bhkGOO...
              (truncated, 114152 total chars)
            mime_type: image/png
        count: 2
        types:
        - folder_structure
        - package_dashboard
        metadata:
          generated_at: '2026-02-17T05:46:26.804470+00:00'
          template_used: standard
          color_scheme:
          - '#1f77b4'
          - '#ff7f0e'
          - '#2ca02c'
          - _truncated: 2 more items
        visualization_dashboards:
        - id: package-overview
          title: Package Overview - test/mcp_create
          generated_at: '2026-02-17T05:46:26.804477+00:00'
          widgets:
          - type: stats
            title: Summary
            stats:
            - label: Total Files
              value: 1
            - label: Total Size (MB)
              value: 0.0
            - label: File Types
              value: 1
          - type: chart
            chart: pie
            title: File Type Distribution
            data: {}
          - type: chart
            chart: bar
            title: Folder Distribution
            data:
              folders:
              - files/
              file_counts:
              - 1
  generate_quilt_summarize_json:
    description: Generate a comprehensive quilt_summarize.json file following Quilt
      standards - Quilt summary file generation tasks
    effect: configure
    category: optional-arg
    arguments:
      package_name: test/mcp_create
      package_metadata:
        name: test/mcp_create
        description: Test package for MCP testing
      organized_structure:
        files:
        - name: test.txt
          size: 100
      readme_content: '# Test Package'
      source_info:
        type: test
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        success: true
        package_info:
          name: test/mcp_create
          namespace: test
          package_name: mcp_create
          version: 1.0.0
          created_by: quilt-mcp-server
          creation_date: '2026-02-17T05:46:26.804718+00:00'
          metadata_template: standard
          description: Data package created via Quilt MCP Server
        data_summary:
          total_files: 1
          total_size_bytes: 0
          total_size_mb: 0.0
          total_size_gb: 0.0
          file_types:
            txt: 1
          file_type_distribution:
            txt:
              count: 1
              total_size_bytes: 0
              total_size_mb: 0.0
        structure:
          folders:
            files:
              file_count: 1
              total_size_bytes: 0
              total_size_mb: 0.0
          organization_type: smart_hierarchy
          auto_organized: true
        source:
          type: test
          bucket: unknown
          prefix: ''
          source_description: Data sourced from S3 bucket
        documentation:
          readme_generated: true
          readme_length: 14
          metadata_complete: false
          visualizations_generated: true
        quilt_metadata: {}
        access:
          browse_command: quilt3.Package.browse('test/mcp_create')
          catalog_url: https://open.quiltdata.com/b/unknown/packages/test/mcp_create
          api_access: true
          cli_access: true
        generated_at: '2026-02-17T05:46:26.804728+00:00'
        generator: quilt-mcp-server
        generator_version: 1.0.0
  get_resource:
    description: Access MCP resources via tool interface for backward compatibility.
    effect: none
    category: zero-arg
    arguments: {}
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        success: true
        uri: discovery://resources
        resource_name: Available Resources
        data:
          resources:
          - uri: auth://status
            description: Check authentication status and catalog configuration
          - uri: auth://catalog/info
            description: Get catalog configuration details
          - uri: auth://filesystem/status
            description: Check filesystem permissions and writability
          - _truncated: 8 more items
          count: 11
        timestamp: '2026-02-17 05:46:26.804876+00:00'
        mime_type: application/json
  package_browse:
    description: Browse the contents of a Quilt package with enhanced file information
      - Quilt package discovery and comparison tasks
    effect: none
    category: optional-arg
    arguments:
      package_name: test/mcp_create
      registry: quilt-ernest-staging
      recursive: false
      include_signed_urls: false
      top: 5
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 5300
      response_example:
        success: true
        package_name: test/mcp_create
        registry: quilt-ernest-staging
        total_entries: 5
        summary:
          total_size: 8743561
          total_size_human: 8.3 MB
          file_types:
          - csv
          - json
          - md
          - _truncated: 1 more items
          total_files: 5
          total_directories: 0
        view_type: flat
        file_tree: null
        entries:
        - logical_key: README.md
          physical_key: null
          size: 1865
          size_human: 1.8 KB
          hash: unknown
          file_type: md
          is_directory: false
        - logical_key: aip_consciousness.pdf
          physical_key: null
          size: 8739265
          size_human: 8.3 MB
          hash: unknown
          file_type: pdf
          is_directory: false
        - logical_key: catalog_info.json
          physical_key: null
          size: 909
          size_human: 909.0 B
          hash: unknown
          file_type: json
          is_directory: false
        - _truncated: 2 more items
        metadata:
          backend: platform
          catalog: nightly.quilttest.com
          context: Updated README to celebrate platform backend; added server_info
            to metadata
          files_added:
          - catalog_info.json
          - server_info.json
          - README.md
          region: us-east-1
          server_info:
            backend: platform
            catalog_name: nightly.quilttest.com
            deployment_mode: local
            multiuser: true
            navigator_url: https://nightly.quilttest.com
            region: us-east-1
            registry_url: https://nightly-registry.quilttest.com
            search_backend: elasticsearch
            search_capabilities:
            - metadata_search
            - content_search
            - package_search
            - _truncated: 2 more items
            search_status: ready
            tabulator_data_catalog: quilt-quilt-staging-tabulator
            transport: stdio
          update_type: Added server configuration files and new introduction README
          updated_at: 2026-02-12T05:52Z
          updated_by: Claude via Quilt MCP
  package_create:
    description: Create a new Quilt package from S3 objects - Core package creation,
      update, and deletion workflows
    effect: create
    category: write-effect
    arguments:
      package_name: test/mcp_create
      s3_uris:
      - s3://quilt-ernest-staging/test/mcp_create/README.md
      registry: s3://quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  package_create_from_s3:
    description: Create a well-organized Quilt package from S3 bucket contents with
      smart organization - Bulk S3-to-package ingestion workflows
    effect: create
    category: write-effect
    arguments:
      source_bucket: s3://quilt-ernest-staging
      package_name: test/mcp_create
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  package_delete:
    description: Delete a Quilt package from the registry - Core package creation,
      update, and deletion workflows
    effect: remove
    category: write-effect
    arguments:
      package_name: test/mcp_create
      registry: s3://quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  package_diff:
    description: Compare two package versions and show differences - Quilt package
      discovery and comparison tasks
    effect: none
    category: optional-arg
    arguments:
      package1_name: test/mcp_create
      package2_name: test/mcp_create
      registry: quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 4000
      response_example:
        success: true
        package1: test/mcp_create
        package2: test/mcp_create
        package1_hash: latest
        package2_hash: latest
        registry: quilt-ernest-staging
        diff:
          added: []
          deleted: []
          modified: []
  package_update:
    description: Update an existing Quilt package by adding new S3 objects - Core
      package creation, update, and deletion workflows
    effect: update
    category: write-effect
    arguments:
      package_name: test/mcp_create
      s3_uris:
      - s3://quilt-ernest-staging/test/mcp_create/README.md
      registry: s3://quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  search_catalog.global.no_bucket:
    tool: search_catalog
    description: Intelligent unified search across Quilt catalog using Elasticsearch
      - Catalog and package search experiences
    effect: none
    arguments:
      query: README.md
      limit: 10
      scope: global
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    validation:
      type: search
      min_results: 0
      must_contain: []
      description: Global search across all buckets (may return 0 if bucket enumeration
        unavailable)
    discovery:
      status: PASSED
      duration_ms: 4300
      response_example:
        success: true
        query: README.md
        scope: global
        bucket: ''
        results:
        - id: test/indexing/README.md:htToCwKhlwducG5h.X_HagJXdnsAo_ln
          type: file
          title: README.md
          description: Object in data-yaml-spec-tests
          score: 30.698769
          backend: elasticsearch
          s3_uri: s3://data-yaml-spec-tests/test/indexing/README.md
          package_name: null
          logical_key: null
          size: 90
          last_modified: '2025-12-31T21:16:57+00:00'
          metadata:
            delete_marker: false
            key: test/indexing/README.md
            last_modified: '2025-12-31T21:16:57+00:00'
            s3_tags: null
            size: 90
            updated: '2025-12-31T21:42:00.499868'
            version_id: htToCwKhlwducG5h.X_HagJXdnsAo_ln
            _index: data-yaml-spec-tests-reindex-vecde16c9147d95082af984b006175f9f5a16ec16
          name: test/indexing/README.md
          bucket: data-yaml-spec-tests
          content_type: ''
          extension: md
          content_preview: null
        - id: 2020-06-20/README.md:null
          type: file
          title: README.md
          description: Object in ai2-semanticscholar-cord-19
          score: 29.36805
          backend: elasticsearch
          s3_uri: s3://ai2-semanticscholar-cord-19/2020-06-20/README.md
          package_name: null
          logical_key: null
          size: 3733
          last_modified: '2020-06-21T00:01:36+00:00'
          metadata:
            delete_marker: false
            key: 2020-06-20/README.md
            last_modified: '2020-06-21T00:01:36+00:00'
            size: 3733
            updated: '2023-06-29T04:39:53.390856'
            version_id: 'null'
            _index: ai2-semanticscholar-cord-19-reindex-v79dc05956b8bb535b513b59c0fc201b70bfc4414
          name: 2020-06-20/README.md
          bucket: ai2-semanticscholar-cord-19
          content_type: ''
          extension: md
          content_preview: null
        - id: 2020-06-16/README.md:null
          type: file
          title: README.md
          description: Object in ai2-semanticscholar-cord-19
          score: 29.36805
          backend: elasticsearch
          s3_uri: s3://ai2-semanticscholar-cord-19/2020-06-16/README.md
          package_name: null
          logical_key: null
          size: 3733
          last_modified: '2020-06-16T23:43:29+00:00'
          metadata:
            delete_marker: false
            key: 2020-06-16/README.md
            last_modified: '2020-06-16T23:43:29+00:00'
            size: 3733
            updated: '2023-06-29T04:38:33.950403'
            version_id: 'null'
            _index: ai2-semanticscholar-cord-19-reindex-v79dc05956b8bb535b513b59c0fc201b70bfc4414
          name: 2020-06-16/README.md
          bucket: ai2-semanticscholar-cord-19
          content_type: ''
          extension: md
          content_preview: null
        - _truncated: 7 more items
        total_results: 10
        query_time_ms: 3446.5420246124268
        backend_used: elasticsearch
        analysis:
          query_type: file_search
          confidence: 0.6
          keywords:
          - readme
          file_extensions: []
          filters_applied: {}
        backend_status:
          status: available
          query_time_ms: 2641.0810947418213
          result_count: 10
          error: null
        backend_info:
          available: true
          backend: elasticsearch
          capabilities:
          - metadata_search
          - content_search
          - package_search
          - _truncated: 2 more items
          status: ready
          backends:
            elasticsearch:
              available: true
              status: available
              capabilities:
              - metadata_search
              - content_search
              - package_search
              - _truncated: 2 more items
              error: null
        explanation: null
  search_catalog.file.no_bucket:
    tool: search_catalog
    description: Intelligent unified search across Quilt catalog using Elasticsearch
      - Catalog and package search experiences
    effect: none
    arguments:
      query: README.md
      limit: 10
      scope: file
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    validation:
      type: search
      min_results: 0
      must_contain: []
      description: File search across all buckets (may return 0 if bucket enumeration
        unavailable)
      result_shape:
        required_fields:
        - id
        - type
        - title
        - score
    discovery:
      status: PASSED
      duration_ms: 2200
      response_example:
        success: true
        query: README.md
        scope: file
        bucket: ''
        results:
        - id: test/indexing/README.md:htToCwKhlwducG5h.X_HagJXdnsAo_ln
          type: file
          title: README.md
          description: Object in data-yaml-spec-tests
          score: 30.698769
          backend: elasticsearch
          s3_uri: s3://data-yaml-spec-tests/test/indexing/README.md
          package_name: null
          logical_key: null
          size: 90
          last_modified: '2025-12-31T21:16:57+00:00'
          metadata:
            delete_marker: false
            key: test/indexing/README.md
            last_modified: '2025-12-31T21:16:57+00:00'
            s3_tags: null
            size: 90
            updated: '2025-12-31T21:42:00.499868'
            version_id: htToCwKhlwducG5h.X_HagJXdnsAo_ln
            _index: data-yaml-spec-tests-reindex-vecde16c9147d95082af984b006175f9f5a16ec16
          name: test/indexing/README.md
          bucket: data-yaml-spec-tests
          content_type: ''
          extension: md
          content_preview: null
        - id: 2020-06-20/README.md:null
          type: file
          title: README.md
          description: Object in ai2-semanticscholar-cord-19
          score: 29.36805
          backend: elasticsearch
          s3_uri: s3://ai2-semanticscholar-cord-19/2020-06-20/README.md
          package_name: null
          logical_key: null
          size: 3733
          last_modified: '2020-06-21T00:01:36+00:00'
          metadata:
            delete_marker: false
            key: 2020-06-20/README.md
            last_modified: '2020-06-21T00:01:36+00:00'
            size: 3733
            updated: '2023-06-29T04:39:53.390856'
            version_id: 'null'
            _index: ai2-semanticscholar-cord-19-reindex-v79dc05956b8bb535b513b59c0fc201b70bfc4414
          name: 2020-06-20/README.md
          bucket: ai2-semanticscholar-cord-19
          content_type: ''
          extension: md
          content_preview: null
        - id: 2020-06-16/README.md:null
          type: file
          title: README.md
          description: Object in ai2-semanticscholar-cord-19
          score: 29.36805
          backend: elasticsearch
          s3_uri: s3://ai2-semanticscholar-cord-19/2020-06-16/README.md
          package_name: null
          logical_key: null
          size: 3733
          last_modified: '2020-06-16T23:43:29+00:00'
          metadata:
            delete_marker: false
            key: 2020-06-16/README.md
            last_modified: '2020-06-16T23:43:29+00:00'
            size: 3733
            updated: '2023-06-29T04:38:33.950403'
            version_id: 'null'
            _index: ai2-semanticscholar-cord-19-reindex-v79dc05956b8bb535b513b59c0fc201b70bfc4414
          name: 2020-06-16/README.md
          bucket: ai2-semanticscholar-cord-19
          content_type: ''
          extension: md
          content_preview: null
        - _truncated: 7 more items
        total_results: 10
        query_time_ms: 1453.2999992370605
        backend_used: elasticsearch
        analysis:
          query_type: file_search
          confidence: 0.6
          keywords:
          - readme
          file_extensions: []
          filters_applied: {}
        backend_status:
          status: available
          query_time_ms: 727.1380424499512
          result_count: 10
          error: null
        backend_info:
          available: true
          backend: elasticsearch
          capabilities:
          - metadata_search
          - content_search
          - package_search
          - _truncated: 2 more items
          status: ready
          backends:
            elasticsearch:
              available: true
              status: available
              capabilities:
              - metadata_search
              - content_search
              - package_search
              - _truncated: 2 more items
              error: null
        explanation: null
  search_catalog.package.no_bucket:
    tool: search_catalog
    description: Intelligent unified search across Quilt catalog using Elasticsearch
      - Catalog and package search experiences
    effect: none
    arguments:
      query: test/mcp_create
      limit: 10
      scope: package
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    validation:
      type: search
      min_results: 0
      must_contain: []
      description: Package search across all buckets (may return 0 if bucket enumeration
        unavailable)
      result_shape:
        required_fields:
        - id
        - type
        - score
    discovery:
      status: PASSED
      duration_ms: 3100
      response_example:
        success: true
        query: test/mcp_create
        scope: package
        bucket: ''
        results:
        - id: ptr:1158d4e2ea2108527a56248382de7d48a7acbcdea548decc7e18e0523e2f41b3
          type: package
          title: test-mcp
          description: 'Package: raw/test-mcp (tag: 1755578018)'
          score: 7.042522
          backend: elasticsearch
          s3_uri: s3://quilt-example/raw/test-mcp
          package_name: null
          logical_key: null
          size: 0
          last_modified: '2025-08-19T04:33:40+00:00'
          metadata:
            ptr_last_modified: '2025-08-19T04:33:40+00:00'
            ptr_name: raw/test-mcp
            ptr_tag: '1755578018'
            _index: quilt-example_packages-reindex-vb6281cee7aab120787076fe0116809df7e96ce86
          name: raw/test-mcp
          bucket: quilt-example
          content_type: application/json
          extension: ''
          content_preview: null
        - id: ptr:bc2477799f6efcaf88080f86483c62edb55771ac57221e676459be383d7a7678
          type: package
          title: test-mcp
          description: 'Package: raw/test-mcp (tag: 1755578008)'
          score: 6.958665
          backend: elasticsearch
          s3_uri: s3://quilt-example/raw/test-mcp
          package_name: null
          logical_key: null
          size: 0
          last_modified: '2025-08-19T04:33:29+00:00'
          metadata:
            ptr_last_modified: '2025-08-19T04:33:29+00:00'
            ptr_name: raw/test-mcp
            ptr_tag: '1755578008'
            _index: quilt-example_packages-reindex-vb6281cee7aab120787076fe0116809df7e96ce86
          name: raw/test-mcp
          bucket: quilt-example
          content_type: application/json
          extension: ''
          content_preview: null
        - id: ptr:7c3b183c47a61f216e35cfce93df895d7716bf238e94a5de466db0521e3220ce
          type: package
          title: test-mcp
          description: 'Package: raw/test-mcp (tag: 1770674727)'
          score: 6.6160455
          backend: elasticsearch
          s3_uri: s3://quilt-example/raw/test-mcp
          package_name: null
          logical_key: null
          size: 0
          last_modified: '2026-02-09T22:05:28+00:00'
          metadata:
            ptr_last_modified: '2026-02-09T22:05:28+00:00'
            ptr_name: raw/test-mcp
            ptr_tag: '1770674727'
            _index: quilt-example_packages-reindex-vb6281cee7aab120787076fe0116809df7e96ce86
          name: raw/test-mcp
          bucket: quilt-example
          content_type: application/json
          extension: ''
          content_preview: null
        - _truncated: 7 more items
        total_results: 10
        query_time_ms: 2333.519220352173
        backend_used: elasticsearch
        analysis:
          query_type: file_search
          confidence: 0.7
          keywords:
          - test
          - mcp_create
          file_extensions: []
          filters_applied: {}
        backend_status:
          status: available
          query_time_ms: 1430.2899837493896
          result_count: 10
          error: null
        backend_info:
          available: true
          backend: elasticsearch
          capabilities:
          - metadata_search
          - content_search
          - package_search
          - _truncated: 2 more items
          status: ready
          backends:
            elasticsearch:
              available: true
              status: available
              capabilities:
              - metadata_search
              - content_search
              - package_search
              - _truncated: 2 more items
              error: null
        explanation: null
  search_docs_quilt_bio:
    description: Search Quilt docs pages from docs.quilt.bio using sitemap-backed
      ranking - Configuration and API documentation lookup
    effect: none
    category: optional-arg
    arguments:
      query: README.md
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 1000
      response_example:
        success: true
        query: README.md
        source: https://docs.quilt.bio/sitemap.xml
        include_versioned_docs: false
        total_matches: 1
        results:
        - url: https://docs.quilt.bio/quilt-2-master/get-started/readme
          last_modified: '2019-05-24T23:54:04.914Z'
          score: 6
          matched_terms:
          - readme
          title: Introduction | quilt-2-master | Quilt
          snippet: arrow-up-right arrow-up-right
  search_explain:
    description: Explain how a search query would be processed and executed - Catalog
      and package search experiences
    effect: none
    category: optional-arg
    arguments:
      query: CSV files
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        success: true
        query: CSV files
        explanation:
          query: CSV files
          query_analysis:
            detected_type: file_search
            confidence: 0.7
            scope: global
            keywords:
            - csv
            file_extensions:
            - csv
            filters:
              file_extensions:
              - csv
          backend_selection:
            selected_backends:
            - elasticsearch
            - graphql
            - s3
            selection_reasoning:
              elasticsearch:
                why_selected: Fast text search optimal for file discovery
                strengths:
                - Fast full-text search
                - Complex query DSL
                - Relevance scoring
                best_for:
                - File content search
                - Package discovery
                - Text matching
                expected_speed: < 200ms
              graphql:
                why_selected: Unknown backend
                strengths: []
                best_for: []
                expected_speed: Unknown
              s3:
                why_selected: Unknown backend
                strengths: []
                best_for: []
                expected_speed: Unknown
            execution_order:
            - elasticsearch
            - graphql
            - s3
            fallback_chain:
            - elasticsearch
          performance_estimate:
            complexity_assessment: moderate
            estimated_time_ranges:
              elasticsearch:
                min_ms: 100
                max_ms: 400
                typical_ms: 200
              graphql:
                min_ms: 100
                max_ms: 5000
                typical_ms: 1000
              s3:
                min_ms: 100
                max_ms: 5000
                typical_ms: 1000
            resource_usage: {}
            scalability_notes:
            - Filters will improve performance by reducing result set
            - Global scope may be slower than targeted searches
          optimization_suggestions:
          - Use specific file extensions for faster results
          - Include size filters to narrow results
          - Specify bucket scope if you know the location
        backends_selected:
        - elasticsearch
        - graphql
        - s3
        query_complexity: file_search
        estimated_results: null
  search_suggest:
    description: Get intelligent search suggestions based on partial queries and context
      - Catalog and package search experiences
    effect: none
    category: optional-arg
    arguments:
      partial_query: test/
      limit: 5
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 0
      response_example:
        success: false
        error: 'Search suggestions failed: argument of type ''RequestContext'' is
          not iterable'
        partial_query: test/
        context: RequestContext(request_id='e0f6ed3b-c2a3-4577-8fa0-ea4b6f414aae',
          user_id='81a35282-0149-4eb3-bb8e-627379db6a1c', auth_service=<quilt_mcp.services.jwt_auth_service.JWTAuthService
          object at 0x11c6808c0>, permission_service=<quilt_mcp.services.permissions_service.PermissionDiscoveryService
          object at 0x11d65a480>, workflow_service=None)
  tabulator_bucket_query:
    description: Execute a bucket-scoped tabulator query.
    effect: none
    category: optional-arg
    arguments:
      bucket_name: quilt-ernest-staging
      query: SELECT 1 as test_value
      max_results: 10
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 9600
      response_example:
        success: true
        row_count: 1
        total_rows: 1
        truncated: false
        columns:
        - test_value
        dtypes:
          test_value: int64
        query: SELECT 1 as test_value
        formatted_data:
        - test_value: 1
        format: json
  tabulator_list_buckets:
    description: List all buckets (databases) in the Tabulator catalog.
    effect: none
    category: zero-arg
    arguments: {}
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 4000
      response_example:
        success: true
        buckets:
        - quilt-dev-null
        - quilt-leadership
        - kevin-spg-stage2
        - _truncated: 3 more items
        count: 6
        message: Found 6 bucket(s) in Tabulator catalog
  tabulator_query_execute:
    description: Execute a query against the Tabulator catalog.
    effect: configure
    category: optional-arg
    arguments:
      query: SELECT 1 as test_value
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 5200
      response_example:
        success: true
        row_count: 1
        total_rows: 1
        truncated: false
        columns:
        - test_value
        dtypes:
          test_value: int64
        query: SELECT 1 as test_value
        formatted_data:
        - test_value: 1
        format: json
  tabulator_table_create:
    description: Create or update a tabulator table.
    effect: create
    category: write-effect
    arguments:
      bucket_name: quilt-ernest-staging
      table_name: test_table
      schema:
      - name: col1
        type: STRING
      package_pattern: test/mcp_create
      logical_key_pattern: test_value
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  tabulator_table_delete:
    description: Delete a tabulator table.
    effect: remove
    category: write-effect
    arguments:
      bucket_name: quilt-ernest-staging
      table_name: test_table
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  tabulator_table_rename:
    description: Rename a tabulator table.
    effect: update
    category: write-effect
    arguments:
      bucket_name: quilt-ernest-staging
      table_name: test_table
      new_table_name: test_name
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: SKIPPED
      duration_ms: 0
  tabulator_tables_list:
    description: List all tabulator tables in a bucket.
    effect: none
    category: required-arg
    arguments:
      bucket: quilt-ernest-staging
    response_schema:
      type: object
      properties:
        content:
          type: array
          items:
            type: object
      required:
      - content
    discovery:
      status: PASSED
      duration_ms: 400
      response_example:
        success: true
        tables:
        - name: ccle
          config_yaml: "schema:\n  - name: name  # must match ^[a-z_][a-z0-9_]*$\n\
            \    type: STRING  # usually BOOLEAN, INT, FLOAT, DOUBLE, STRING, DATE,\
            \ TIMESTAMP\n  - name: length\n    type: INT\n  - name: effective_length\n\
            \    type: FLOAT\n  - name: tpm\n    type: FLOAT\n  - name: num_reads\n\
            \    type: FLOAT\nsource:\n  type: quilt-packages  # currently the only\
            \ supported type\n  package_name: \"^ccle/(?<date>[^_]+)_(?<study_id>[^_]+)_nfcore_rnaseq$\"\
            \n  logical_key: \"salmon/(?<sample_id>[^/]+)/quant*\\\\.genes\\\\.sf$\"\
            \nparser:\n  format: csv  # or `parquet`\n  delimiter: \"\\t\"\n  header:\
            \ true\ncontinue_on_error: true\n"
          schema:
          - name: name
            type: STRING
          - name: length
            type: INT
          - name: effective_length
            type: FLOAT
          - name: tpm
            type: FLOAT
          - name: num_reads
            type: FLOAT
          source:
            type: quilt-packages
            package_name: ^ccle/(?<date>[^_]+)_(?<study_id>[^_]+)_nfcore_rnaseq$
            logical_key: salmon/(?<sample_id>[^/]+)/quant*\.genes\.sf$
          parser:
            format: csv
            delimiter: "\t"
            header: true
          column_count: '5'
        - name: missing-columns
          config_yaml: "schema:\n  - name: key\n    type: STRING\n  - name: int32\n\
            \    type: INT\n  - name: int64\n    type: BIGINT\n  - name: float32\n\
            \    type: FLOAT\n  - name: float64\n    type: DOUBLE\n  - name: utf8\n\
            \    type: STRING\n  - name: boolean\n    type: BOOLEAN\n  - name: comment\n\
            \    type: STRING\n\nsource:\n  type: quilt-packages\n  package_name:\
            \ \"test/tabulator-missing-columns\"\n  logical_key: \"sample.*-columns.csv$\"\
            \n\nparser:\n  format: csv\n  delimiter: \",\"\n  header: true\n"
          schema:
          - name: key
            type: STRING
          - name: int32
            type: INT
          - name: int64
            type: BIGINT
          - name: float32
            type: FLOAT
          - name: float64
            type: DOUBLE
          - name: utf8
            type: STRING
          - name: boolean
            type: BOOLEAN
          - name: comment
            type: STRING
          source:
            type: quilt-packages
            package_name: test/tabulator-missing-columns
            logical_key: sample.*-columns.csv$
          parser:
            format: csv
            delimiter: ','
            header: true
          column_count: '8'
        - name: test_analysis_1770736547
          config_yaml: "schema:\n- name: sample_id\n  type: STRING\n- name: read_count\n\
            \  type: INT\n- name: quality_score\n  type: FLOAT\nsource:\n  type: quilt-packages\n\
            \  package_name: ^experiments/(?<experiment_id>[^/]+)$\n  logical_key:\
            \ samples/(?<sample_type>[^/]+)\\.csv$\nparser:\n  format: csv\n  delimiter:\
            \ \",\"\n  header: true"
          schema:
          - name: sample_id
            type: STRING
          - name: read_count
            type: INT
          - name: quality_score
            type: FLOAT
          source:
            type: quilt-packages
            package_name: ^experiments/(?<experiment_id>[^/]+)$
            logical_key: samples/(?<sample_type>[^/]+)\.csv$
          parser:
            format: csv
            delimiter: ','
            header: true
          column_count: '3'
        - _truncated: 4 more items
        bucket_name: quilt-ernest-staging
        count: 7
        tables_table: "name                      config_yaml                    schema\
          \                         source                         parser        \
          \                 column_count\n                     ccle schema:\\n  -\
          \ name: name  # ... [{'name': 'name', 'type': '... {'type': 'quilt-packages',\
          \ ... {'format': 'csv', 'delimite... 5           \n          missing-columns\
          \ schema:\\n  - name: key\\n   ... [{'name': 'key', 'type': 'S... {'type':\
          \ 'quilt-packages', ... {'format': 'csv', 'delimite... 8           \n test_analysis_1770736547\
          \ schema:\\n- name: sample_id\\... [{'name': 'sample_id', 'typ... {'type':\
          \ 'quilt-packages', ... {'format': 'csv', 'delimite... 3           \n  \
          \    test_table_91705977 parser:\\n  delimiter: ','\\n... [{'name': 'col1',\
          \ 'type': '... {'logical_key': '*.csv', 'p... {'delimiter': ',', 'format'...\
          \ 1           \n      test_table_b5ec4641 parser:\\n  delimiter: ','\\n...\
          \ [{'name': 'col1', 'type': '... {'logical_key': '*.csv', 'p... {'delimiter':\
          \ ',', 'format'... 1           \ntest_tabulator_1769994... (truncated, 1303\
          \ total chars)"
        display_format: table
test_resources:
  auth://status:
    description: Check authentication status and catalog configuration
    effect: none
    uri: auth://status
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  auth://catalog/info:
    description: Get catalog configuration details
    effect: none
    uri: auth://catalog/info
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  auth://filesystem/status:
    description: Check filesystem permissions and writability
    effect: none
    uri: auth://filesystem/status
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  admin://users:
    description: List all users in the Quilt registry with their roles and status
      (requires admin privileges)
    effect: none
    uri: admin://users
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  admin://roles:
    description: List all available roles in the Quilt registry (requires admin privileges)
    effect: none
    uri: admin://roles
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  admin://config/sso:
    description: Current SSO configuration
    effect: none
    uri: admin://config/sso
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  admin://config/tabulator:
    description: Tabulator open query configuration
    effect: none
    uri: admin://config/tabulator
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  athena://databases:
    description: List available Athena databases
    effect: none
    uri: athena://databases
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  athena://workgroups:
    description: List available Athena workgroups
    effect: none
    uri: athena://workgroups
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  athena://query/history:
    description: Recent Athena query execution history (last 50 queries)
    effect: none
    uri: athena://query/history
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
  tabulator://buckets:
    description: List buckets with tabulator tables configured
    effect: none
    uri: tabulator://buckets
    uri_variables: {}
    expected_mime_type: application/json
    content_validation:
      type: json
      min_length: 1
      max_length: 100000
      schema:
        type: object
        description: Auto-generated basic schema - customize as needed
tool_loops:
  admin_user_basic:
    description: Test admin user create/get/delete cycle
    cleanup_on_failure: true
    steps:
    - tool: admin_user_create
      args:
        name: tlu{uuid}
        email: tlu{uuid}@example.com
        role: ReadQuiltBucket
      expect_success: true
    - tool: admin_user_get
      args:
        name: tlu{uuid}
      expect_success: true
    - tool: admin_user_delete
      args:
        name: tlu{uuid}
      expect_success: true
      is_cleanup: true
  admin_user_with_roles:
    description: Test admin user add/remove roles
    cleanup_on_failure: true
    steps:
    - tool: admin_user_create
      args:
        name: tlu{uuid}
        email: tlu{uuid}@example.com
        role: ReadQuiltBucket
      expect_success: true
    - tool: admin_user_add_roles
      args:
        name: tlu{uuid}
        roles:
        - ReadWriteQuiltBucket
      expect_success: true
    - tool: admin_user_get
      args:
        name: tlu{uuid}
      expect_success: true
    - tool: admin_user_remove_roles
      args:
        name: tlu{uuid}
        roles:
        - ReadWriteQuiltBucket
      expect_success: true
    - tool: admin_user_delete
      args:
        name: tlu{uuid}
      expect_success: true
      is_cleanup: true
  admin_user_modifications:
    description: Test admin user set operations (email, role, admin, active, reset
      password)
    cleanup_on_failure: true
    steps:
    - tool: admin_user_create
      args:
        name: tlu{uuid}
        email: tlu{uuid}@example.com
        role: ReadQuiltBucket
      expect_success: true
    - tool: admin_user_set_email
      args:
        name: tlu{uuid}
        email: tlu{uuid}x@example.com
      expect_success: true
    - tool: admin_user_set_role
      args:
        name: tlu{uuid}
        role: ReadWriteQuiltBucket
      expect_success: true
    - tool: admin_user_set_admin
      args:
        name: tlu{uuid}
        admin: true
      expect_success: true
    - tool: admin_user_set_active
      args:
        name: tlu{uuid}
        active: false
      expect_success: true
    - tool: admin_user_reset_password
      args:
        name: tlu{uuid}
      expect_success: true
    - tool: admin_user_delete
      args:
        name: tlu{uuid}
      expect_success: true
      is_cleanup: true
  admin_sso_config:
    description: Test SSO configuration set/remove cycle
    cleanup_on_failure: true
    steps:
    - tool: admin_sso_config_set
      args:
        config:
          version: '1.0'
          provider: test-{uuid}
          saml_config: <test_sso_config>test config</test_sso_config>
          mappings: []
          default_role: ReadQuiltBucket
      expect_success: true
    - tool: admin_sso_config_remove
      args: {}
      expect_success: true
      is_cleanup: true
  admin_tabulator_query:
    description: Test tabulator open query set/toggle cycle
    cleanup_on_failure: true
    steps:
    - tool: admin_tabulator_open_query_set
      args:
        enabled: true
      expect_success: true
    - tool: admin_tabulator_open_query_set
      args:
        enabled: false
      expect_success: true
      is_cleanup: true
  package_lifecycle:
    description: Test package create/update/delete cycle
    cleanup_on_failure: true
    steps:
    - tool: package_create
      args:
        package_name: testuser/loop-pkg-{uuid}
        registry: s3://{env.QUILT_TEST_BUCKET}
        s3_uris:
        - s3://{env.QUILT_TEST_BUCKET}/{env.QUILT_TEST_PACKAGE}/{env.QUILT_TEST_ENTRY}
        message: Test package created by tool loop
      expect_success: true
    - tool: package_browse
      args:
        package_name: testuser/loop-pkg-{uuid}
        registry: s3://{env.QUILT_TEST_BUCKET}
      expect_success: true
    - tool: package_update
      args:
        package_name: testuser/loop-pkg-{uuid}
        registry: s3://{env.QUILT_TEST_BUCKET}
        s3_uris:
        - s3://{env.QUILT_TEST_BUCKET}/{env.QUILT_TEST_PACKAGE}/.timestamp
        message: Updated by tool loop
      expect_success: true
    - tool: package_delete
      args:
        package_name: testuser/loop-pkg-{uuid}
        registry: s3://{env.QUILT_TEST_BUCKET}
      expect_success: true
      is_cleanup: true
  package_create_from_s3_loop:
    description: Test package_create_from_s3 tool
    cleanup_on_failure: true
    steps:
    - tool: package_create_from_s3
      args:
        source_bucket: '{env.QUILT_TEST_BUCKET}'
        package_name: testuser/s3pkg-{uuid}
        target_registry: s3://{env.QUILT_TEST_BUCKET}
        source_prefix: '{env.QUILT_TEST_PACKAGE}/'
        confirm_structure: false
        force: true
      expect_success: true
    - tool: package_delete
      args:
        package_name: testuser/s3pkg-{uuid}
        registry: s3://{env.QUILT_TEST_BUCKET}
      expect_success: true
      is_cleanup: true
  bucket_objects_write:
    description: Test bucket object put/fetch cycle
    cleanup_on_failure: true
    steps:
    - tool: bucket_objects_put
      args:
        bucket: '{env.QUILT_TEST_BUCKET}'
        items:
        - key: test-loop-{uuid}.txt
          text: Test content from tool loop
      expect_success: true
    - tool: bucket_object_fetch
      args:
        s3_uri: s3://{env.QUILT_TEST_BUCKET}/test-loop-{uuid}.txt
        max_bytes: 1000
      expect_success: true
  workflow_basic:
    description: Test workflow create/add step/update step/delete cycle
    cleanup_on_failure: true
    steps:
    - tool: workflow_create
      args:
        workflow_id: test-wf-{uuid}
        name: Test Workflow {uuid}
      expect_success: true
    - tool: workflow_add_step
      args:
        workflow_id: test-wf-{uuid}
        step_id: step1
        description: Test Step 1
      expect_success: true
    - tool: workflow_update_step
      args:
        workflow_id: test-wf-{uuid}
        step_id: step1
        status: completed
      expect_success: true
    - tool: workflow_delete
      args:
        id: test-wf-{uuid}
      expect_success: true
      is_cleanup: true
  visualization_create:
    description: Test visualization creation
    cleanup_on_failure: false
    steps:
    - tool: create_data_visualization
      args:
        data:
          x:
          - 1
          - 2
          - 3
          y:
          - 4
          - 5
          - 6
        plot_type: scatter
        x_column: x
        y_column: y
      expect_success: true
  tabulator_table_lifecycle:
    description: Test tabulator table create/rename/delete cycle
    cleanup_on_failure: true
    steps:
    - tool: tabulator_table_create
      args:
        bucket_name: '{env.QUILT_TEST_BUCKET}'
        table_name: test_table_{uuid}
        schema:
        - name: col1
          type: STRING
        package_pattern: '*/pkg'
        logical_key_pattern: '*.csv'
      expect_success: true
    - tool: tabulator_table_rename
      args:
        bucket_name: '{env.QUILT_TEST_BUCKET}'
        table_name: test_table_{uuid}
        new_table_name: test_table_{uuid}_renamed
      expect_success: true
    - tool: tabulator_table_delete
      args:
        bucket_name: '{env.QUILT_TEST_BUCKET}'
        table_name: test_table_{uuid}_renamed
      expect_success: true
      is_cleanup: true
  quilt_summary_create:
    description: Test create_quilt_summary_files tool
    cleanup_on_failure: false
    steps:
    - tool: create_quilt_summary_files
      args:
        package_name: testuser/test-pkg
        package_metadata:
          description: test
        organized_structure:
          root: []
        readme_content: '# Test Package'
        source_info:
          source: test
        metadata_template: standard
      expect_success: true
test_config:
  timeout: 30
  retry_attempts: 2
  fail_fast: false
discovered_data:
  s3_keys:
  - s3://quilt-ernest-staging/test/mcp_create/.timestamp
  - s3://quilt-ernest-staging/test/mcp_create/README.md
  - s3://quilt-ernest-staging/test/mcp_create/aip_consciousness.pdf
  - s3://quilt-ernest-staging/test/mcp_create/docker-versions-1.64.2.csv
  - s3://quilt-ernest-staging/test/mcp_create/lifecycle.json
  package_names: []
  tables: []
  catalog_resources: []
