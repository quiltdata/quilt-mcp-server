{
  "tools": {
    "auth_status": {
      "description": "Check Quilt authentication status",
      "arguments": {},
      "validations": {
        "expect_keys": ["status"],
        "enum": {"status": ["authenticated", "not_authenticated", "error"]}
      }
    },
    "filesystem_status": {
      "description": "Check filesystem permissions and capabilities",
      "arguments": {},
      "validations": {
        "expect_keys": ["home_directory", "temp_directory", "current_directory"],
        "path_keys": ["home_directory", "temp_directory", "current_directory"]
      }
    },
    "catalog_info": {
      "description": "Get current catalog configuration information",
      "arguments": {},
      "validations": {
        "expect_keys": ["catalog_name", "is_authenticated", "status"],
        "enum": {"status": ["success", "error"]}
      }
    },
    "catalog_name": {
      "description": "Get the name of the current catalog",
      "arguments": {},
      "validations": {
        "expect_keys": ["catalog_name", "detection_method", "status"],
        "enum": {"status": ["success", "error"]}
      }
    },
    "catalog_url": {
      "description": "Generate catalog URL for package view",
      "arguments": {
        "registry": "${QUILT_DEFAULT_BUCKET}",
        "package_name": "${QUILT_TEST_PACKAGE}",
        "path": "${QUILT_TEST_ENTRY}"
      },
      "validations": {
        "expect_keys": ["status", "catalog_url", "view_type"],
        "enum": {"status": ["success", "error"], "view_type": ["package", "bucket"]},
        "url_format": {"catalog_url": "https://"}
      }
    },
    "catalog_uri": {
      "description": "Generate Quilt+ URI for package reference",
      "arguments": {
        "registry": "${QUILT_DEFAULT_BUCKET}",
        "package_name": "${QUILT_TEST_PACKAGE}",
        "path": "${QUILT_TEST_ENTRY}"
      },
      "validations": {
        "expect_keys": ["status", "quilt_plus_uri", "bucket"],
        "enum": {"status": ["success", "error"]},
        "uri_format": {"quilt_plus_uri": "quilt+s3://"}
      }
    },
    "packages_list": {
      "description": "List available packages with limit",
      "arguments": {
        "limit": 5,
        "prefix": "raw"
      },
      "validations": {
        "expect_keys": ["packages"],
        "min_items": {"packages": 1},
        "contains_env": {"packages": "QUILT_TEST_PACKAGE"}
      }
    },
    "packages_search": {
      "description": "Search for packages",
      "arguments": {
        "query": "salmon",
        "limit": 3
      },
      "validations": {
        "expect_keys": ["results"]
      }
    },
    "package_browse": {
      "description": "Browse a test package",
      "arguments": {
        "package_name": "${QUILT_TEST_PACKAGE}",
        "top": 10
      },
      "validations": {
        "expect_keys": ["contents"],
        "min_items": {"contents": 1}
      }
    },
    "package_contents_search": {
      "description": "Search within package contents",
      "arguments": {
        "package_name": "${QUILT_TEST_PACKAGE}",
        "query": "${QUILT_TEST_ENTRY}"
      },
      "validations": {
        "expect_keys": ["matches", "count"],
        "non_negative": ["count"]
      }
    },
    "package_create": {
      "description": "Create a new package from S3 objects",
      "arguments": {
        "package_name": "raw/test-mcp",
        "s3_uris": ["s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP1/quant.sf"]
      },
      "validations": {
        "expect_keys": ["status", "package_name", "entries_added"],
        "enum": {"status": ["success"]},
        "min_number": {"entries_added": 1}
      }
    },
    "package_update": {
      "description": "Update existing package with new S3 objects",
      "arguments": {
        "package_name": "raw/test-mcp",
        "s3_uris": ["s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP2/quant.sf"]
      },
      "validations": {
        "expect_keys": ["status", "package_name", "new_entries_added"],
        "enum": {"status": ["success"]},
        "min_number": {"new_entries_added": 1}
      }
    },
    "package_delete": {
      "description": "Delete a test package",
      "arguments": {
        "package_name": "raw/test-mcp-delete"
      },
      "validations": {
        "expect_keys": ["status", "action"],
        "enum": {"action": ["deleted"]}
      }
    },
    "bucket_objects_list": {
      "description": "List objects in bucket with prefix",
      "arguments": {
        "prefix": "salmon/",
        "max_keys": 5
      },
      "validations": {
        "expect_keys": ["objects", "bucket"],
        "min_items": {"objects": 1}
      }
    },
    "bucket_object_info": {
      "description": "Get S3 object metadata",
      "arguments": {
        "s3_uri": "s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP1/quant.sf"
      },
      "validations": {
        "expect_keys": ["bucket", "key", "size"],
        "min_number": {"size": 1}
      }
    },
    "bucket_object_text": {
      "description": "Read text content from S3 object",
      "arguments": {
        "s3_uri": "s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP1/quant.sf",
        "max_bytes": 1024
      },
      "validations": {
        "expect_keys": ["text", "bucket", "key"],
        "min_text_length": {"text": 1}
      }
    },
    "bucket_objects_put": {
      "description": "Upload test objects to S3",
      "arguments": {
        "bucket": "quilt-ernest-staging",
        "items": [
          {
            "key": "test/hello.txt",
            "text": "Hello from MCP test!",
            "content_type": "text/plain"
          }
        ]
      },
      "validations": {
        "expect_keys": ["uploaded", "requested", "results"],
        "min_number": {"uploaded": 1}
      }
    },
    "bucket_object_fetch": {
      "description": "Fetch binary/text data from S3",
      "arguments": {
        "s3_uri": "s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP1/quant.sf",
        "max_bytes": 1024,
        "base64_encode": false
      },
      "validations": {
        "expect_keys": ["bucket", "key"],
        "one_of_keys_non_empty": [["data", "text"]]
      }
    },
    "bucket_object_link": {
      "description": "Generate presigned URL for S3 object download",
      "arguments": {
        "s3_uri": "s3://quilt-ernest-staging/salmon/RAP1_UNINDUCED_REP1/quant.sf",
        "expiration": 1800
      },
      "validations": {
        "expect_keys": ["bucket", "key", "presigned_url", "expires_in"],
        "url_format": {"presigned_url": "https://"},
        "min_number": {"expires_in": 1}
      }
    },
    "bucket_objects_search": {
      "description": "Search objects in bucket using Elasticsearch query",
      "arguments": {
        "bucket": "quilt-ernest-staging",
        "query": "salmon",
        "limit": 5
      },
      "validations": {
        "expect_keys": ["bucket", "query", "results"],
        "optional_error": true
      }
    },
    "package_diff": {
      "description": "Compare two package versions and show differences",
      "arguments": {
        "package1_name": "${QUILT_TEST_PACKAGE}",
        "package2_name": "${QUILT_TEST_PACKAGE}"
      },
      "validations": {
        "expect_keys": ["package1", "package2", "diff"],
        "optional_error": true
      }
    }
  }
}