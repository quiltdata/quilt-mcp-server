{
  "tools": {
    "auth_check": {
      "description": "Check Quilt authentication status",
      "arguments": {},
      "validations": {
        "expect_keys": ["status"],
        "enum": {"status": ["authenticated", "not_authenticated", "error"]}
      }
    },
    "filesystem_check": {
      "description": "Check filesystem permissions and capabilities",
      "arguments": {},
      "validations": {
        "expect_keys": ["home_directory", "temp_directory", "current_directory"],
        "path_keys": ["home_directory", "temp_directory", "current_directory"]
      }
    },
    "packages_list": {
      "description": "List available packages with limit",
      "arguments": {
        "limit": 5,
        "prefix": "raw"
      },
      "validations": {
        "expect_keys": ["packages"],
        "min_items": {"packages": 1},
        "contains_env": {"packages": "QUILT_TEST_PACKAGE"}
      }
    },
    "packages_search": {
      "description": "Search for packages",
      "arguments": {
        "query": "salmon",
        "limit": 3
      },
      "validations": {
        "expect_keys": ["results"]
      }
    },
    "package_browse": {
      "description": "Browse a test package",
      "arguments": {
        "package_name": "raw/salmon-rnaseq",
        "top": 10
      },
      "validations": {
        "expect_keys": ["contents"],
        "min_items": {"contents": 1}
      }
    },
    "package_contents_search": {
      "description": "Search within package contents",
      "arguments": {
        "package_name": "raw/salmon-rnaseq",
        "query": "quant"
      },
      "validations": {
        "expect_keys": ["matches", "count"],
        "non_negative": ["count"]
      }
    },
    "package_create": {
      "description": "Create a new package from S3 objects",
      "arguments": {
        "package_name": "raw/test-mcp",
        "s3_uris": ["s3://quilt-sandbox-bucket/salmon/RAP1_UNINDUCED_REP1/quant.sf"]
      },
      "validations": {
        "expect_keys": ["status", "package_name", "entries_added"],
        "enum": {"status": ["success"]},
        "min_number": {"entries_added": 1}
      }
    },
    "package_update": {
      "description": "Update existing package with new S3 objects",
      "arguments": {
        "package_name": "raw/test-mcp",
        "s3_uris": ["s3://quilt-sandbox-bucket/salmon/RAP1_UNINDUCED_REP2/quant.sf"]
      },
      "validations": {
        "expect_keys": ["status", "package_name", "new_entries_added"],
        "enum": {"status": ["success"]},
        "min_number": {"new_entries_added": 1}
      }
    },
    "package_delete": {
      "description": "Delete a test package",
      "arguments": {
        "package_name": "raw/test-mcp-delete"
      },
      "validations": {
        "expect_keys": ["status", "action"],
        "enum": {"action": ["deleted"]}
      }
    },
    "bucket_objects_list": {
      "description": "List objects in bucket with prefix",
      "arguments": {
        "prefix": "salmon/",
        "max_keys": 5
      },
      "validations": {
        "expect_keys": ["objects", "bucket"],
        "min_items": {"objects": 1}
      }
    },
    "bucket_object_info": {
      "description": "Get S3 object metadata",
      "arguments": {
        "s3_uri": "s3://quilt-sandbox-bucket/salmon/RAP1_UNINDUCED_REP1/quant.sf"
      },
      "validations": {
        "expect_keys": ["bucket", "key", "size"],
        "min_number": {"size": 1}
      }
    },
    "bucket_object_text": {
      "description": "Read text content from S3 object",
      "arguments": {
        "s3_uri": "s3://quilt-sandbox-bucket/salmon/RAP1_UNINDUCED_REP1/quant.sf",
        "max_bytes": 1024
      },
      "validations": {
        "expect_keys": ["text", "bucket", "key"],
        "min_text_length": {"text": 1}
      }
    },
    "bucket_objects_put": {
      "description": "Upload test objects to S3",
      "arguments": {
        "bucket": "quilt-sandbox-bucket",
        "items": [
          {
            "key": "test/hello.txt",
            "text": "Hello from MCP test!",
            "content_type": "text/plain"
          }
        ]
      },
      "validations": {
        "expect_keys": ["uploaded", "requested", "results"],
        "min_number": {"uploaded": 1}
      }
    },
    "bucket_object_fetch": {
      "description": "Fetch binary/text data from S3",
      "arguments": {
        "s3_uri": "s3://quilt-sandbox-bucket/salmon/RAP1_UNINDUCED_REP1/quant.sf",
        "max_bytes": 1024,
        "base64_encode": false
      },
      "validations": {
        "expect_keys": ["bucket", "key"],
        "one_of_keys_non_empty": [["data", "text"]]
      }
    }
  }
}