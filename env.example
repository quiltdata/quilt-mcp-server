# Quilt MCP Server Environment Configuration
# Copy this to .env and update with your values

# AWS Configuration
AWS_PROFILE=default
AWS_DEFAULT_REGION=us-east-1
AWS_ACCOUNT_ID=123456789

# Quilt Configuration
QUILT_CATALOG_URL=https://open.quiltdata.io

# ============================================================================
# TEST CONFIGURATION (only for running test suite)
# ============================================================================
# This should ONLY be set in test environments
# Production code never uses this variable
# LLM clients should provide explicit bucket parameters based on conversation context
# ============================================================================
QUILT_TEST_BUCKET=s3://your-test-bucket

# Test package configuration (can reference any package in any bucket)
QUILT_TEST_PACKAGE=raw/test
QUILT_TEST_ENTRY=README.md

# Test AWS role ARN for JWT authentication testing
QUILT_TEST_ROLE_ARN=arn:aws:iam::123456789:role/QuiltMCPTestRole

# ============================================================================
# DEPRECATED VARIABLES (removed in v0.10.0)
# ============================================================================
# QUILT_DEFAULT_BUCKET - REMOVED
# Rationale: MCP server should not manage default bucket state
# Migration: LLM clients provide explicit bucket parameters based on conversation context
# For tests: Use QUILT_TEST_BUCKET and test fixtures instead
# ============================================================================

# Optional log level
LOG_LEVEL=INFO

# ============================================================================
# JWT AUTHENTICATION (optional)
# ============================================================================
# Enable JWT-only mode (default false)
# MCP_REQUIRE_JWT=false
#
# Provide JWT secret directly (HS256)
# MCP_JWT_SECRET=your-jwt-secret
#
# Or retrieve secret from AWS SSM Parameter Store
# MCP_JWT_SECRET_SSM_PARAMETER=/quilt/mcp/jwt-secret
#
# Optional issuer/audience validation
# MCP_JWT_ISSUER=https://issuer.example.com
# MCP_JWT_AUDIENCE=quilt-mcp

# HTTP Service Timeout (seconds) - default: 60
# QUILT_SERVICE_TIMEOUT=60

# Optional: Override FastMCP transport mode (set to STDIO for desktop clients)
FASTMCP_TRANSPORT=stdio

# ngrok Configuration for remote tunneling (optional)
NGROK_DOMAIN=my-free-domain.ngrok-free.app

# Docker Configuration
# ECR registry URL (optional override for Docker push operations)
# Default: {account_id}.dkr.ecr.{region}.amazonaws.com
ECR_REGISTRY=123456789.dkr.ecr.us-east-1.amazonaws.com

# Python packaging (uv)
# Production publishing is done using OIDC via CI (no secrets necessary)

# Required for locally publishing to TestPyPI
UV_PUBLISH_TOKEN=pypi-TOKEN
# Optional: Override publish endpoint (defaults to TestPyPI)
# PYPI_PUBLISH_URL=https://test.pypi.org/legacy/

# Optional: Override dist output directory (defaults to dist/)
DIST_DIR=dist
